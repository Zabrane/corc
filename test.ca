async foo {
  call bar;
  test;
  await;
  if approved {
    thing1;
    await;
  } else {
    thing2;
    await;
  }
}

sub bar {
  bax;
  await;
  bim;
}
